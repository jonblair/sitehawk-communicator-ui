{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { EMPTY_ID, isIdZeroLevel, createId, getRootParentId, getIdWithoutRootParentId, getAllShortIds } from './itemIdUtils';\nimport SortedPublicItemIds from './SortedPublicItemIds';\nimport { getNestedValue } from './misc';\n/**\n * @hidden\n */\n\nexport function isItemExpandedAndWithChildren(item, fieldsSvc) {\n  return fieldsSvc.expanded(item) && hasChildren(item);\n}\n/**\n * @hidden\n */\n\nexport function resolveItemId(publicId, idField, items) {\n  var resolvedIds = resolveItemsIds([publicId], idField, items);\n  return resolvedIds.length ? resolvedIds[0] : undefined;\n}\n/**\n * @hidden\n */\n\nexport function resolveItemsIds(publicIds, idField, items) {\n  var result = [];\n  var sortedIds = new SortedPublicItemIds();\n  sortedIds.init(publicIds);\n  resolveItemsIdsHelper(sortedIds, idField, items, EMPTY_ID, result);\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function updateItem(items, itemId, update, cloneField) {\n  var _a;\n\n  var itemIndex = Number(getRootParentId(itemId));\n\n  if (itemIndex >= items.length) {\n    return items;\n  }\n\n  var result = items;\n  var item = items[itemIndex]; // Clone the item before updating it.\n\n  if (!item[cloneField]) {\n    result = items.slice();\n    item = result[itemIndex] = Object.assign({}, item, (_a = {}, _a[cloneField] = true, _a));\n  } // Directly update the item.\n\n\n  if (isIdZeroLevel(itemId)) {\n    update(item);\n  } else if (item.items) {\n    item.items = updateItem(item.items, getIdWithoutRootParentId(itemId), update, cloneField);\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function hasChildren(item) {\n  return Boolean(item.items && item.items.length);\n}\n/**\n * @hidden\n */\n\nexport function isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc) {\n  var ids = getAllShortIds(itemId);\n  var currentItems = items;\n\n  for (var i = 0; i < ids.length; i++) {\n    var currentItem = currentItems[Number(ids[i])];\n\n    if (fieldsSvc.disabled(currentItem)) {\n      return false;\n    } else {\n      currentItems = currentItem.items;\n    }\n  }\n\n  return true;\n}\n/**\n * @hidden\n */\n\nexport function getAllDirectIndirectChildrenIds(item, itemId, idField) {\n  return idField ? getChildrenPublicIds(item) : getChildrenHierarchicalIndices(item, itemId);\n\n  function getChildrenHierarchicalIndices(startItem, startItemId) {\n    var result = [];\n\n    if (startItem.items) {\n      for (var i = 0; i < startItem.items.length; i++) {\n        var id = createId(i, startItemId);\n        result.push(id);\n        result = result.concat(getChildrenHierarchicalIndices(startItem.items[i], id));\n      }\n    }\n\n    return result;\n  }\n\n  function getChildrenPublicIds(startItem) {\n    var result = [];\n\n    if (startItem.items) {\n      for (var i = 0; i < startItem.items.length; i++) {\n        result.push(getNestedValue(idField, startItem.items[i]));\n        result = result.concat(getChildrenPublicIds(startItem.items[i]));\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @hidden\n */\n\nexport function areAllDirectChildrenChecked(item, itemId, idField, check) {\n  if (item.items) {\n    return item.items.every(function (child, index) {\n      return check.indexOf(idField ? getNestedValue(idField, child) : createId(index, itemId)) > -1;\n    });\n  } else {\n    return true;\n  }\n}\n/**\n * @hidden\n */\n\nexport function getAllParents(itemId, items) {\n  var result = [];\n  var ids = getAllShortIds(itemId);\n  var currentItems = items;\n\n  for (var i = 0; i < ids.length - 1; i++) {\n    if (!currentItems) {\n      break;\n    }\n\n    var currentItem = currentItems[Number(ids[i])];\n    result.push(currentItem);\n    currentItems = currentItem.items;\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function removeItem(itemId, items) {\n  var result = items.slice();\n\n  if (isIdZeroLevel(itemId)) {\n    result.splice(Number(itemId), 1);\n  } else {\n    var rootParentIndex = Number(getRootParentId(itemId));\n\n    var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n\n    rootParent.items = removeItem(getIdWithoutRootParentId(itemId), rootParent.items);\n  }\n\n  return result;\n}\n/**\n * @hidden\n */\n\nexport function addItem(item, operation, targetItemId, items) {\n  var result = items.slice();\n\n  if (isIdZeroLevel(targetItemId)) {\n    if (operation === 'child') {\n      var targetItem = result[Number(targetItemId)] = __assign({}, result[Number(targetItemId)]);\n\n      if (targetItem.items) {\n        targetItem.items = targetItem.items.slice();\n        targetItem.items.push(item);\n      } else {\n        targetItem.items = [item];\n      }\n    } else {\n      result.splice(Number(targetItemId) + (operation === 'after' ? 1 : 0), 0, item);\n    }\n  } else {\n    var rootParentIndex = Number(getRootParentId(targetItemId));\n\n    var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n\n    rootParent.items = addItem(item, operation, getIdWithoutRootParentId(targetItemId), rootParent.items);\n  }\n\n  return result;\n}\n\nfunction resolveItemsIdsHelper(publicItemIds, idField, items, parentItemId, resolvedIds) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var id = createId(i, parentItemId);\n\n    if (publicItemIds.hasId(getNestedValue(idField, item))) {\n      resolvedIds.push(id);\n    }\n\n    if (hasChildren(item)) {\n      resolveItemsIdsHelper(publicItemIds, idField, item.items, id, resolvedIds);\n    }\n  }\n}","map":{"version":3,"sources":["../../../src/utils/itemUtils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { EMPTY_ID, isIdZeroLevel, createId, getRootParentId, getIdWithoutRootParentId, getAllShortIds } from './itemIdUtils';\nimport SortedPublicItemIds from './SortedPublicItemIds';\nimport { getNestedValue } from './misc';\n/**\n * @hidden\n */\nexport function isItemExpandedAndWithChildren(item, fieldsSvc) {\n    return fieldsSvc.expanded(item) && hasChildren(item);\n}\n/**\n * @hidden\n */\nexport function resolveItemId(publicId, idField, items) {\n    var resolvedIds = resolveItemsIds([publicId], idField, items);\n    return resolvedIds.length ? resolvedIds[0] : undefined;\n}\n/**\n * @hidden\n */\nexport function resolveItemsIds(publicIds, idField, items) {\n    var result = [];\n    var sortedIds = new SortedPublicItemIds();\n    sortedIds.init(publicIds);\n    resolveItemsIdsHelper(sortedIds, idField, items, EMPTY_ID, result);\n    return result;\n}\n/**\n * @hidden\n */\nexport function updateItem(items, itemId, update, cloneField) {\n    var _a;\n    var itemIndex = Number(getRootParentId(itemId));\n    if (itemIndex >= items.length) {\n        return items;\n    }\n    var result = items;\n    var item = items[itemIndex];\n    // Clone the item before updating it.\n    if (!item[cloneField]) {\n        result = items.slice();\n        item = result[itemIndex] = Object.assign({}, item, (_a = {}, _a[cloneField] = true, _a));\n    }\n    // Directly update the item.\n    if (isIdZeroLevel(itemId)) {\n        update(item);\n    }\n    else if (item.items) {\n        item.items = updateItem(item.items, getIdWithoutRootParentId(itemId), update, cloneField);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function hasChildren(item) {\n    return Boolean(item.items && item.items.length);\n}\n/**\n * @hidden\n */\nexport function isEnabledAndAllParentsEnabled(itemId, items, fieldsSvc) {\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length; i++) {\n        var currentItem = currentItems[Number(ids[i])];\n        if (fieldsSvc.disabled(currentItem)) {\n            return false;\n        }\n        else {\n            currentItems = currentItem.items;\n        }\n    }\n    return true;\n}\n/**\n * @hidden\n */\nexport function getAllDirectIndirectChildrenIds(item, itemId, idField) {\n    return idField ? getChildrenPublicIds(item) : getChildrenHierarchicalIndices(item, itemId);\n    function getChildrenHierarchicalIndices(startItem, startItemId) {\n        var result = [];\n        if (startItem.items) {\n            for (var i = 0; i < startItem.items.length; i++) {\n                var id = createId(i, startItemId);\n                result.push(id);\n                result = result.concat(getChildrenHierarchicalIndices(startItem.items[i], id));\n            }\n        }\n        return result;\n    }\n    function getChildrenPublicIds(startItem) {\n        var result = [];\n        if (startItem.items) {\n            for (var i = 0; i < startItem.items.length; i++) {\n                result.push(getNestedValue(idField, startItem.items[i]));\n                result = result.concat(getChildrenPublicIds(startItem.items[i]));\n            }\n        }\n        return result;\n    }\n}\n/**\n * @hidden\n */\nexport function areAllDirectChildrenChecked(item, itemId, idField, check) {\n    if (item.items) {\n        return item.items.every(function (child, index) {\n            return check.indexOf(idField ? getNestedValue(idField, child) : createId(index, itemId)) > -1;\n        });\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @hidden\n */\nexport function getAllParents(itemId, items) {\n    var result = [];\n    var ids = getAllShortIds(itemId);\n    var currentItems = items;\n    for (var i = 0; i < ids.length - 1; i++) {\n        if (!currentItems) {\n            break;\n        }\n        var currentItem = currentItems[Number(ids[i])];\n        result.push(currentItem);\n        currentItems = currentItem.items;\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function removeItem(itemId, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(itemId)) {\n        result.splice(Number(itemId), 1);\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(itemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent.items = removeItem(getIdWithoutRootParentId(itemId), rootParent.items);\n    }\n    return result;\n}\n/**\n * @hidden\n */\nexport function addItem(item, operation, targetItemId, items) {\n    var result = items.slice();\n    if (isIdZeroLevel(targetItemId)) {\n        if (operation === 'child') {\n            var targetItem = result[Number(targetItemId)] = __assign({}, result[Number(targetItemId)]);\n            if (targetItem.items) {\n                targetItem.items = targetItem.items.slice();\n                targetItem.items.push(item);\n            }\n            else {\n                targetItem.items = [item];\n            }\n        }\n        else {\n            result.splice(Number(targetItemId) + (operation === 'after' ? 1 : 0), 0, item);\n        }\n    }\n    else {\n        var rootParentIndex = Number(getRootParentId(targetItemId));\n        var rootParent = result[rootParentIndex] = __assign({}, result[rootParentIndex]);\n        rootParent.items = addItem(item, operation, getIdWithoutRootParentId(targetItemId), rootParent.items);\n    }\n    return result;\n}\nfunction resolveItemsIdsHelper(publicItemIds, idField, items, parentItemId, resolvedIds) {\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var id = createId(i, parentItemId);\n        if (publicItemIds.hasId(getNestedValue(idField, item))) {\n            resolvedIds.push(id);\n        }\n        if (hasChildren(item)) {\n            resolveItemsIdsHelper(publicItemIds, idField, item.items, id, resolvedIds);\n        }\n    }\n}\n//# sourceMappingURL=itemUtils.js.map"]},"metadata":{},"sourceType":"module"}